---
layout: page
sidebar: false
---

<h1 class="action-header"><a href="/lib/docs/">Documentation</a>: Histogram</h1>
<h3>Description</h3>

<p class="action-description">This action determines the number of occurences of different brightness values used in the image, thereby creating a histogram.
You can either supply an array for the values parameter, which will then contain the histogram data after the action is done, or you can have the histogram can be painted on top of the image. 
You can also have both, of course.</p>

<div id="actiontabs">
	<ul>
		<li><a href="#tabdemo"><span>Demo</span></a></li>
		<li><a href="#tabexamplecode"><span>Example code</span></a></li>
		<li><a href="#tabparameters"><span>Parameters</span></a></li>	</ul>
	<div id="tabdemo">

		<h3>Demo</h3><div class="actiondemo">
<script type="text/javascript"><!--
var hist = {};
function demo() {
	Pixastic.process(document.getElementById("demoimage"), "histogram", {
		average : false, paint:true,color:"rgba(255,255,255,0.5)",returnValue:hist
	});
	$("#text-histogram").val(hist.values);
}
--></script>

<input type="button" onclick="demo();" value="Make histogram"/>
<input type="button" onclick="resetDemo();" value="Reset"/><br/>
<img src="/sample/Wildebeest.jpg" id="demoimage" alt=""/><br/>

<textarea rows="2" cols="47" style="width:396px;" id="text-histogram">Histogram values...</textarea>
</div></div>
	<div id="tabexamplecode">
		<h3>Example usage</h3><div class="code"><pre class="javascript">
var hist = {};
var img = new Image();
img.onload = function() {
	Pixastic.process(img, "histogram", {
		average:false,paint:true,color:"rgb(255,0,0)",returnValue:{}
	});
}
document.body.appendChild(img);
img.src = "myimage.jpg";

// code used in the demo:
var hist = {};
function demo() {
	Pixastic.process(document.getElementById("demoimage"), "histogram", {
		average : false, paint:true,color:"rgba(255,255,255,0.5)",returnValue:hist
	});
	$("#text-histogram").val(hist.values);
}
</pre></div></div>
	<div id="tabparameters">
		<h3>Parameters</h3><ul class="action-options-list"><li><span class='option-desc'><span class='option-name'>average</span> (<span class='option-type'>bool</span>)<br/>How to convert RGB to greyscale, as explained in the <a href="Desaturate">Desaturate</a> action.</span></li><li><span class='option-desc'><span class='option-name'>paint</span> (<span class='option-type'>bool</span>)<br/>If true, the histogram will be painted on the image</span></li><li><span class='option-desc'><span class='option-name'>color</span> (<span class='option-type'>string</span>)<br/>The color of the histogram that is drawn. Ie. "rgb(255,255,255)" for white.</span></li><li><span class='option-desc'><span class='option-name'>returnValue</span> (<span class='option-type'>array</span>)<br/>An return value object which will hold the values (in the "values" property) of the histogram after execution.</span></li></ul>	</div></div>

<p class="view-source">View source: <a href="/lib/git/pixastic/actions/histogram.js" class="view-source-link">histogram.js</a></p>

<h3>Browser support</h3>
<p>
<script type="text/javascript"><!--

var clients = [
	{
		name : "Internet Explorer 5.5+",
		icon : "icon_ie7.png",
		link : "http://www.microsoft.com/windows/products/winfamily/ie/default.mspx",
		hasCanvas : function() { return false },
		hasCanvasImageData : function() { return false },
		isIE : function() { return true }
	},
	{
		name : "Opera 9+",
		icon : "icon_opera.png",
		link : "http://www.opera.com/",
		hasCanvas : function() { return true },
		hasCanvasImageData : function() { this.name = "Opera 9.5+"; return true },
		isIE : function() { return false }
	},
	{
		name : "Firefox 2+",
		icon : "icon_firefox.png",
		link : "http://www.mozilla.com/firefox/",
		hasCanvas : function() { return true },
		hasCanvasImageData : function() { return true },
		isIE : function() { return false }
	},
	{
		name : "Safari 3+",
		icon : "icon_safari.png",
		link : "http://www.apple.com/safari/",
		hasCanvas : function() { return true },
		hasCanvasImageData : function() { return false },
		isIE : function() { return false }
	},
	{
		name : "WebKit Nightly",
		icon : "icon_webkit.png",
		link : "http://nightly.webkit.org/",
		hasCanvas : function() { return true },
		hasCanvasImageData : function() { return true },
		isIE : function() { return false }
	}
];

var realClient = Pixastic.Client;
var action = Pixastic.Actions["histogram"];

for (var i=0;i<clients.length;i++) {
	var client = clients[i];
	Pixastic.Client = client;
	if (action.checkSupport()) {
		document.write(
			"<span class=\"actionbrowsersupport\"><a href=\"" + client.link + "\" target=\"_blank\"><img src=\"/lib/" + client.icon + "\" alt=\"" + client.name + "\" title=\"" + client.name + "\">"
			+ client.name + "</a></span>"
		);
	}
}

Pixastic.Client = realClient;

--></script>

</p>
